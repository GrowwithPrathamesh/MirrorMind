<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MirrorMind - Student Login</title>
    <link rel="stylesheet" href="/static/css/student_login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Page Transition Overlay -->
    <div class="page-transition-overlay"></div>
    
    <!-- Hidden field to store Django error message -->
    {% if error %}
    <input type="hidden" id="djangoError" value="{{ error }}">
    {% endif %}
    
    <!-- Success message check -->
    {% if request.GET.success %}
    <input type="hidden" id="successMessage" value="{{ request.GET.success }}">
    {% endif %}
</head>
<body>
    <div class="animated-background">
        <div class="particle-layer"></div>
        <div class="grid-layer"></div>
        <div class="orbs-layer">
            <div class="orb orb-1"></div>
            <div class="orb orb-2"></div>
            <div class="orb orb-3"></div>
        </div>
        <div class="wave-layer"></div>
        <!-- Premium Animated Background Elements -->
        <div class="floating-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
            <div class="shape shape-4"></div>
        </div>
    </div>

    <div class="container">
        <div class="logo-header">
            <!-- Enhanced Logo Animation Container -->
            <div class="logo-gradient">
                <div class="logo-container">
                    <h1 class="logo-text">MirrorMind</h1>
                </div>
            </div>
            <p class="tagline">AI-Powered Smart Classroom Login</p>
        </div>

        <div class="form-container">
            <div class="login-card">
                <!-- Card Hover Glow Effect -->
                <div class="card-hover-glow"></div>
                
                <div class="card-header">
                    <img src="/static/images/123.png" class="logo-img">
                    <h2>Welcome Back</h2>
                    <p>Sign in to your MirrorMind account</p>
                </div>
                
                <form id="studentLoginForm" method="POST" action="/student-login/" novalidate>
                    {% csrf_token %}
                    
                    <div class="form-group">
                        <div class="input-with-icon">
                            <label for="email" class="form-label">Email Address</label>
                            <div class="input-field">
                                <div class="input-icon-container">
                                    <svg class="input-icon" viewBox="0 0 24 24">
                                        <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                                    </svg>
                                </div>
                                <input type="email" id="email" name="email" required placeholder="Enter your email" value="{{ request.POST.email|default:'' }}">
                                <div class="floating-label-animation"></div>
                            </div>
                            <div class="input-effects">
                                <div class="focus-border"></div>
                                <div class="input-glow"></div>
                            </div>
                            <div class="validation-error" id="email_error"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="input-with-icon">
                            <label for="password" class="form-label">Password</label>
                            <div class="input-field">
                                <div class="input-icon-container">
                                    <svg class="input-icon" viewBox="0 0 24 24">
                                        <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                                    </svg>
                                </div>
                                <input type="password" id="password" name="password" required placeholder="Enter your password">
                                <div class="floating-label-animation"></div>
                                <button type="button" class="toggle-password" data-target="password">
                                    <svg class="eye-icon" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
                                </button>
                            </div>
                            <div class="input-effects">
                                <div class="focus-border"></div>
                                <div class="input-glow"></div>
                            </div>
                            <div class="password-options">
                                <a href="/student-reset-password/" class="forgot-password">
                                    <i class="fas fa-key"></i>
                                    Forgot Password?
                                </a>
                            </div>
                            <div class="validation-error" id="password_error"></div>
                        </div>
                    </div>
                    
                    <!-- Action buttons moved closer to form -->
                    <div class="action-buttons">
                        <button type="submit" class="btn-primary" id="loginBtn" data-loading-text="Authenticating...">
                            <span class="btn-text">Sign In</span>
                            <svg class="btn-icon" viewBox="0 0 24 24"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>
                            <!-- Button Ripple Effect Container -->
                            <div class="btn-ripple-container"></div>
                            <!-- Loading Spinner -->
                            <div class="spinner hidden"></div>
                        </button>
                    </div>
                    
                    <!-- Card footer moved up and border removed -->
                    <div class="card-footer">
                        <p>Don't have an account? <a href="/student-signup/" class="signin-link">Sign Up Now</a></p>
                    </div>
                </form>
            </div>
        </div>
        
        <div id="toastContainer"></div>
        
        <script src="/static/js/student_login.js"></script>
    </body>
</html>